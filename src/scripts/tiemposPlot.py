import numpy as np
import matplotlib.pyplot as plt
from cStringIO import StringIO 
import pylab

txt = open('resultados_alpha.txt', 'r').read() 

# alphas = np.loadtxt(
# 	StringIO(txt.replace("Alpha: ",''))	,
# dtype = int)
valoresPCA10k = np.array([[6787, 6713, 6707, 6710, 6732, 6706, 6698, 6696, 6693, 6696],
						[8204, 8174, 8174, 8180, 8175, 8174, 8171, 8174, 8171, 8176],
						[9684, 9729, 9729, 9731, 9726, 9730, 9725, 9733, 9727, 9733],
						[11179, 11227, 11272, 11274, 11264, 11269, 11266, 11274, 11264, 11225],
						[12714, 12724, 12698, 12716, 12726, 12791, 12727, 12726, 12793, 12791],
						[14343, 14255, 14340, 14335, 14327, 14337, 14279, 14336, 14333, 14308],
						[15641, 15645, 15639, 15631, 15614, 15624, 15608, 15661, 15610, 15609],
						[17086, 17125, 17121, 17121, 17124, 17139, 17117, 17126, 17121, 17126],
						[18567, 18578, 18573, 18576, 18563, 18580, 18567, 18572, 18567, 18558],
						[20035, 20038, 20256, 20033, 20040, 20283, 20295, 20031, 20267, 20316],
						[21815, 21788, 21804, 21786, 21806, 21809, 21544, 21818, 21825, 21519],
						[23080, 23301, 23001, 23263, 23005, 23265, 23305, 23000, 23278, 23301],
						[24792, 24848, 24839, 24829, 24832, 24820, 24863, 24833, 24869, 24841],
						[25989, 26486, 26490, 26474, 26478, 26479, 26504, 26467, 26501, 26454],
						[27861, 27513, 27530, 27509, 27528, 27509, 27526, 27511, 27523, 27513]]
)
valoresPCA20k = np.array([[13090, 13058, 13057, 13057, 13056, 13057, 13057, 13057, 13056, 13057],
						[14917, 14911, 14910, 14908, 14913, 14911, 14911, 14912, 14913, 14911],
						[16835, 16790, 16802, 16656, 16615, 16601, 16594, 16596, 16595, 16595],
						[18482, 18547, 18493, 18492, 18567, 18490, 18560, 18493, 18497, 18496],
						[20372, 20437, 20370, 20342, 20350, 20338, 20338, 20334, 20339, 20407],
						[22291, 22200, 22305, 22256, 22200, 22197, 22199, 22200, 22201, 22201],
						[24065, 24081, 24069, 24080, 24288, 24082, 24095, 24069, 24078, 24079],
						[25940, 25950, 25958, 25964, 26118, 26104, 25967, 25959, 26056, 26102],
						[27828, 27812, 27814, 27828, 27817, 27824, 27962, 27798, 28240, 28465],
						[30388, 30387, 30385, 30378, 30389, 30387, 30374, 30375, 30556, 30415],
						[32274, 32276, 32275, 32295, 32305, 32312, 32301, 32035, 31593, 31601],
						[33512, 33490, 33470, 33467, 33465, 33499, 33484, 33461, 33502, 33465],
						[35357, 35391, 35377, 35364, 35374, 35372, 35387, 35375, 35384, 35356],
						[37285, 37353, 37335, 37332, 37332, 37348, 37335, 37330, 37305, 37351],
						[39132, 39066, 39048, 39050, 39042, 39043, 39043, 39044, 39045, 39044]]
)
alphas = np.array([1,56,112,168,224,280,336,392,448,504,560,616,672,728,784])
valoresPLS = np.divide(valoresPCA10k, 2)

devilPCA10k = np.empty(np.shape(alphas)[0])
devilPCA20k = np.empty(np.shape(alphas)[0])
devilPLS = np.empty(np.shape(alphas)[0])
meanPCA10k = np.empty(np.shape(alphas)[0])
meanPCA20k = np.empty(np.shape(alphas)[0])	
meanPLS = np.empty(np.shape(alphas)[0])
for i in range(0,len(valoresPCA10k)):
	devilPCA10k[i] = np.std(valoresPCA10k[i])
	meanPCA10k[i] = np.mean(valoresPCA10k[i])
	devilPCA20k[i] = np.std(valoresPCA20k[i])
	meanPCA20k[i] = np.mean(valoresPCA20k[i])

	devilPLS[i] = np.std(valoresPLS[i])
	meanPLS[i] = np.mean(valoresPLS[i])

fig = plt.figure()
ax = fig.add_subplot(111)
ax.set_xlabel("Alphas/Gammas", fontsize = 16)
ax.set_ylabel("Tiempo (Milisegundos)", fontsize = 16)
ax.errorbar(alphas, meanPCA10k, yerr=devilPCA10k, color = "r", label='PCA (10k)')
ax.errorbar(alphas, meanPCA20k, yerr=devilPCA20k, color = "g", label='PCA (20k)')
ax.errorbar(alphas, meanPLS, yerr=devilPLS, color = "b", label='PLS')
pylab.legend(loc='upper left')
plt.title('Hiperparametrizacion', fontsize = 18)

plt.show()